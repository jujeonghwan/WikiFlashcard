<main class="col-sm-9 offset-sm-3 col-md-10 offset-md-2 pt-3">
    <ol class="breadcrumb">
        {menu_navigator}
    </ol>

    <hr />

    <div class="panel panel-default">
        <div class="panel-body">
            <div class="row form-group">
                <div class="col-md-2 text-center">
                    <label class="control-label"><strong>Keyword</strong></label>
                </div>
                <div class="col-md-6">
                    <input type="search" class="form-control input-sm" id="search_keyword" name="search_keyword" value="{search_keyword}" />
                </div>
            </div>
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-4 text-left">
        </div>
        <div class="col-md-4 text-center">
            <button type="button" class="btn btn-primary" id="button_go_list">Search</button>
        </div>
        <div class="col-md-4 text-right">
        </div> 
    </div>

    <hr />

    <div class="row">
        <div class="col-md-4 text-left">
        </div>
        <div class="col-md-4 text-center">
        </div>
        <div class="col-md-4 text-right">            
            <a class="btn btn-info" href="{cardset_add_link_href}" role="button">Add Cardset</a>
        </div> 
    </div>

    <br />

    <div class="col-md-12 text-center">
        <nav aria-label="Page navigation example">
            {pagination_link_list}            
        </nav>
    </div>

    <div class="row">
        <div class="col-md-12">
            Total: {total_rows} [Page: {page}/{total_page}]
        </div> 
    </div>

    <div class="row">
        <!-- LOOP START row -->
        <div class="col-sm-6">            
            <div class="card text-center">
                <div class="card-header">
                    <h3>
                        <a href="{cardset_view_link_href}">{cs_setname}</a><br />
                        [Total : {flashcard_count} / My : {myflashcard_count}]
                    </h3>
                </div>
                <div class="card-block">
                    <!--
                    <h4 class="card-title">
                        {cs_frontitemname}<br />
                        <hr />
                        {cs_backitemname}<br />
                    </h4>
                    -->
                    <p class="card-text">
                        <a href="{study_link_href}" class="btn btn-primary">Study Cardset</a>   
                    </p>
                    <p class="card-text">
                        <a href="{flashcard_view_link_href}" class="btn btn-info">Manage Flashcard</a>
                    </p>
                    <p class="card-text">
                        <a href="{myflashcard_add_link_href}" class="btn btn-success">Add To My Flashcard</a>
                    </p>
                </div>
            </div>
            &nbsp;
        </div>
        <!-- LOOP END row -->
    </div>

    <div class="col-md-12 text-center">
        <nav aria-label="Page navigation example">
            {pagination_link_list}            
        </nav>
    </div>

</main>

<script type="text/javascript">
    
$(document).ready(function(){
    // 페이지 로드시 검색어 포커스
    $("#search_keyword").focus();   
        
    // 검색어 엔터키 입력
    $("#search_keyword").on("keyup keypress", function(e) {
        if (e.keyCode == 13) {            
            go_list();
        }
    });

    // 목록조회 버튼 클릭
    $("#button_go_list").on("click", function() {
        go_list();
    });
});

// Query string 구하기
function get_search_querystring() {
    var search_querystring = "";
    
    search_querystring += "&search_keyword=" + encodeURIComponent($.trim($("#search_keyword").val()));
    // search_querystring += "&page=" + $.trim($("#page").val());
    search_querystring += "&page=1";
 
    return search_querystring;
}
    
// 목록조회
function go_list() {    
    var search_querystring = get_search_querystring();
    
    var location_href = "";
    location_href += "index.php?dummy=dummy";
    location_href += search_querystring;
    
    $(location).attr("href", location_href);
}

</script>
